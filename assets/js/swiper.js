function initializeSwiper(){const e=document.querySelectorAll(".swiper");if(0===e.length)return;const t=".swiper-wrapper",i=".swiper-slide",n=".swiper-pagination",s=".swiper-button-next",a=".swiper-button-prev";e.forEach(function(e,r){try{if(!(e&&e instanceof Element))return void console.warn("Invalid swiper element at index:",r);const l=e.querySelector(t);if(!l)return void console.warn("No swiper-wrapper found in swiper at index:",r);const o=l.querySelectorAll(i);if(0===o.length)return void console.warn("No slides found in swiper at index:",r);const c=parseInt(e.dataset.slideDesktop)||1,d=parseInt(e.dataset.slideMobile)||1,p=parseInt(e.dataset.slideTablet)||1,w="false"!==e.dataset.pagination,u="false"!==e.dataset.navigation,f="false"!==e.dataset.autoplay,S=parseInt(e.dataset.autoplayDelay)||3e3,h=parseInt(e.dataset.spaceBetween)||0,y="false"!==e.dataset.loop,g={slidesPerView:d,spaceBetween:15,speed:parseInt(e.dataset.speed)||300,loop:y&&o.length>c,watchSlidesProgress:!0,observer:!0,observeParents:!0,breakpoints:{480:{slidesPerView:d},768:{slidesPerView:p},1024:{slidesPerView:c,spaceBetween:h}}};if(f&&(g.autoplay={delay:S,disableOnInteraction:!1}),w){const t=e.querySelector(n);t&&(g.pagination={el:t,clickable:!0})}if(u){const t=e.querySelector(s),i=e.querySelector(a);t&&i&&(g.navigation={nextEl:t,prevEl:i})}e.classList.contains("g-banner--slider")&&handleBannerAnimation(e,g);const m=new Swiper(e,g);e._swiperInstance=m}catch(e){console.error("Failed to initialize Swiper at index:",r,e)}})}function handleBannerAnimation(e,t){let i="";const n=e=>{e.querySelectorAll("[data-aos]").forEach(e=>{e.classList.remove("aos-init","aos-animate")})},s=e=>{e.querySelectorAll("[data-aos]").forEach(e=>{e.classList.add("aos-init","aos-animate")})};setTimeout(()=>{e.querySelectorAll(".swiper-slide:not(.swiper-slide-active)").forEach(n)},1500),t.on={slideChangeTransitionStart:function(){this.el&&this.el.querySelectorAll(".swiper-slide").forEach(n)},slideChangeTransitionEnd:function(){if(this.el)if(i!=this.activeIndex){i=this.activeIndex,this.el.querySelectorAll(".swiper-slide").forEach(n);const e=this.el.querySelector(".swiper-slide-active");e&&s(e)}else{this.el.querySelectorAll(".swiper-slide").forEach(n);const e=this.el.querySelector(".swiper-slide-active");e&&(n(e),s(e))}}}}function initializeSwiperThumbnail(){const e=document.querySelectorAll(".swiperThumbnail");0!==e.length&&e.forEach(function(e,t){try{const i=e.querySelector(".g-mainSwiper"),n=e.querySelector(".g-thumbsSwiper");if(!i||!n)return void console.warn("Main swiper or thumbs swiper not found in swiperThumbnail at index:",t);const s=getSwiperConfig(i),a=new Swiper(i,s),r=getThumbsSwiperConfig(n,i),l=new Swiper(n,r);e._mainSwiperInstance=a,e._thumbsSwiperInstance=l,syncSwiper(a,l,n)}catch(e){console.error("Failed to initialize SwiperThumbnail at index:",t,e)}})}function getSwiperConfig(e){const t=e.querySelector(".swiper-wrapper").querySelectorAll(".swiper-slide"),i=parseInt(e.dataset.slideDesktop)||1,n=parseInt(e.dataset.slideMobile)||1,s=parseInt(e.dataset.slideTablet)||1,a="false"!==e.dataset.pagination,r="false"!==e.dataset.navigation,l="false"!==e.dataset.autoplay,o=e.dataset.effect||"slide",c=parseInt(e.dataset.autoplayDelay)||3e3,d=parseInt(e.dataset.spaceBetween)||0,p="false"!==e.dataset.loop,w={slidesPerView:n,spaceBetween:d,speed:parseInt(e.dataset.speed)||300,loop:p&&t.length>i,watchSlidesProgress:!0,effect:o,allowTouchMove:!1,breakpoints:{480:{slidesPerView:n},768:{slidesPerView:s},1024:{slidesPerView:i}}};if(l&&(w.autoplay={delay:c,disableOnInteraction:!1}),a){const t=e.querySelector(".swiper-pagination");t&&(w.pagination={el:t,clickable:!0})}if(r){const t=e.querySelector(".swiper-button-next"),i=e.querySelector(".swiper-button-prev");t&&i&&(w.navigation={nextEl:t,prevEl:i})}return w}function getThumbsSwiperConfig(e,t){const i=e.querySelectorAll(".swiper-slide"),n=parseInt(e.dataset.slideDesktop)||3,s=parseInt(e.dataset.slideMobile)||3,a=parseInt(e.dataset.slideTablet)||3,r="false"!==t.dataset.loop,l="false"!==t.dataset.autoplay,o="false"!==e.dataset.center,c=parseInt(e.dataset.autoplayDelay)||3e3,d=parseInt(e.dataset.spaceBetween)||0,p=parseInt(e.dataset.speed)||300,w={slidesPerView:s,spaceBetween:d,freeMode:!1,loop:r&&i.length>n,speed:p,centeredSlides:o,centeredSlidesBounds:o,watchSlidesProgress:!0,breakpoints:{480:{slidesPerView:s},768:{slidesPerView:a},1024:{slidesPerView:n}}};return l&&(w.autoplay={delay:c,disableOnInteraction:!1}),w}function syncSwiper(e,t,i){let n,s=!1,a=!1;e.on("slideChange",function(){a||(s=!0,t.slideToLoop(e.realIndex,300,!1),n=setTimeout(()=>{s=!1},100))}),t.on("slideChange",function(){s||(a=!0,e.slideToLoop(t.realIndex,300,!1),n=setTimeout(()=>{a=!1},100))});i.querySelectorAll(".swiper-slide").forEach(function(i){i.addEventListener("click",function(){if(!s){a=!0;const s=parseInt(i.getAttribute("data-swiper-slide-index"),10);e.slideToLoop(s,300,!1),t.slideToLoop(s,300,!1),n=setTimeout(()=>{a=!1},100)}})}),i._syncCleanup=()=>{n&&clearTimeout(n)}}function cleanupSwipers(){try{document.querySelectorAll(".swiper").forEach(e=>{e._swiperInstance&&(e._swiperInstance.destroy(!0,!0),delete e._swiperInstance)});document.querySelectorAll(".swiperThumbnail").forEach(e=>{e._mainSwiperInstance&&(e._mainSwiperInstance.destroy(!0,!0),delete e._mainSwiperInstance),e._thumbsSwiperInstance&&(e._thumbsSwiperInstance.destroy(!0,!0),delete e._thumbsSwiperInstance),e._syncCleanup&&(e._syncCleanup(),delete e._syncCleanup)})}catch(e){console.warn("Cleanup swipers error:",e)}}function startPageLeave(){document.documentElement.classList.add("page-leaving")}document.addEventListener("DOMContentLoaded",function(){initializeSwiper(),initializeSwiperThumbnail()}),document.addEventListener("click",e=>{const t=e.target.closest(".g-header a[href]");if(!t)return;const i=t.getAttribute("href");i&&"#"!==i&&!i.startsWith("javascript:")&&(t.target&&"_self"!==t.target||startPageLeave())}),window.SwiperControls={cleanup:cleanupSwipers},window.addEventListener("beforeunload",function(){startPageLeave(),window.SwiperControls&&window.SwiperControls.cleanup&&window.SwiperControls.cleanup()});